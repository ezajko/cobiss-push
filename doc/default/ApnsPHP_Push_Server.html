<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
	<title>Docs For Class ApnsPHP_Push_Server</title>
	<link rel="stylesheet" type="text/css" id="layout" href="../media/layout.css" media="screen">
	<link rel="stylesheet" type="text/css" href="../media/style.css" media="all">
	<link rel="stylesheet" type="text/css" href="../media/print.css" media="print">
</head>

<body>
<div id="header">
	<div id="navLinks">
        
                                    
                            	        [ <a href="../classtrees_default.html">Class Tree: default</a> ]
            [ <a href="../elementindex_default.html">Index: default</a> ]
        		[ <a href="../elementindex.html">All elements</a> ]		
	</div>
	<div id="packagePosition">
		<div id="packageTitle2">default</div>
		<div id="packageTitle">default</div>
		<div id="elementPath"> &middot; </div>
	</div>
</div>

<div id="nav" class="small">
	<div id="packages">
		Packages:
					<p><a href="../li_default.html">default</a></p>
			</div>

				<div id="index">
			<div id="files">
								Files:<br>
								<a href="../default/_ApnsPHP---ApnsPHP---Abstract.php.html">		Abstract.php
		</a><br>
			<a href="../default/_front---androidDevices.php.html">		androidDevices.php
		</a><br>
			<a href="../default/_ApnsPHP---ApnsPHP---Autoload.php.html">		Autoload.php
		</a><br>
			<a href="../default/_ApnsPHP---CobissAPN.php.html">		CobissAPN.php
		</a><br>
			<a href="../default/_lib---configTemplate.php.html">		configTemplate.php
		</a><br>
			<a href="../default/_ApnsPHP---ApnsPHP---Message---Custom.php.html">		Custom.php
		</a><br>
			<a href="../default/_lib---DbConnect.php.html">		DbConnect.php
		</a><br>
			<a href="../default/_lib---DbFunctionsAPN.php.html">		DbFunctionsAPN.php
		</a><br>
			<a href="../default/_lib---DbFunctionsCommon.php.html">		DbFunctionsCommon.php
		</a><br>
			<a href="../default/_lib---DbFunctionsGCM.php.html">		DbFunctionsGCM.php
		</a><br>
			<a href="../default/_old---db_connect.php.html">		db_connect.php
		</a><br>
			<a href="../default/_old---db_functions.php.html">		db_functions.php
		</a><br>
			<a href="../default/_old---db_functions_push.php.html">		db_functions_push.php
		</a><br>
			<a href="../default/_gcmApi---definitions.php.html">		definitions.php
		</a><br>
			<a href="../default/_messages---deleteMessage.php.html">		deleteMessage.php
		</a><br>
			<a href="../default/_ApnsPHP---ApnsPHP---Log---Embedded.php.html">		Embedded.php
		</a><br>
			<a href="../default/_ApnsPHP---ApnsPHP---Message---Exception.php.html">		Exception.php
		</a><br>
			<a href="../default/_ApnsPHP---ApnsPHP---Exception.php.html">		Exception.php
		</a><br>
			<a href="../default/_ApnsPHP---ApnsPHP---Push---Server---Exception.php.html">		Exception.php
		</a><br>
			<a href="../default/_ApnsPHP---ApnsPHP---Push---Exception.php.html">		Exception.php
		</a><br>
			<a href="../default/_ApnsPHP---ApnsPHP---Feedback.php.html">		Feedback.php
		</a><br>
			<a href="../default/_lib---GCMsender.php.html">		GCMsender.php
		</a><br>
			<a href="../default/_old---getids.php.html">		getids.php
		</a><br>
			<a href="../default/_messages---getMessages.php.html">		getMessages.php
		</a><br>
			<a href="../default/_gcmApi---getMessages.php.html">		getMessages.php
		</a><br>
			<a href="../default/_apnApi---getMessages.php.html">		getMessages.php
		</a><br>
			<a href="../default/_ApnsPHP---ApnsPHP---Log---Interface.php.html">		Interface.php
		</a><br>
			<a href="../default/_front---iosDevices.php.html">		iosDevices.php
		</a><br>
			<a href="../default/_apnApi---isregistered.php.html">		isregistered.php
		</a><br>
			<a href="../default/_gcmApi---isregistered.php.html">		isregistered.php
		</a><br>
			<a href="../default/_old---isregistered.php.html">		isregistered.php
		</a><br>
			<a href="../default/_messages---markMessageAsRead.php.html">		markMessageAsRead.php
		</a><br>
			<a href="../default/_front---members.php.html">		members.php
		</a><br>
			<a href="../default/_ApnsPHP---ApnsPHP---Message.php.html">		Message.php
		</a><br>
			<a href="../default/_ApnsPHP---ApnsPHP---Push.php.html">		Push.php
		</a><br>
			<a href="../default/_ApnsPHP---pushAll.php.html">		pushAll.php
		</a><br>
			<a href="../default/_ApnsPHP---pushOne.php.html">		pushOne.php
		</a><br>
			<a href="../default/_old---register.php.html">		register.php
		</a><br>
			<a href="../default/_apnApi---register.php.html">		register.php
		</a><br>
			<a href="../default/_gcmApi---register.php.html">		register.php
		</a><br>
			<a href="../default/_old---register_apn.php.html">		register_apn.php
		</a><br>
			<a href="../default/_old---register_gcm.php.html">		register_gcm.php
		</a><br>
			<a href="../default/_ApnsPHP---samplePush.php.html">		samplePush.php
		</a><br>
			<a href="../default/_ApnsPHP---sample_feedback.php.html">		sample_feedback.php
		</a><br>
			<a href="../default/_ApnsPHP---sample_push_custom.php.html">		sample_push_custom.php
		</a><br>
			<a href="../default/_ApnsPHP---sample_push_many.php.html">		sample_push_many.php
		</a><br>
			<a href="../default/_ApnsPHP---sample_server.php.html">		sample_server.php
		</a><br>
			<a href="../default/_front---sendMessage.php.html">		sendMessage.php
		</a><br>
			<a href="../default/_front---sendMessagePar.php.html">		sendMessagePar.php
		</a><br>
			<a href="../default/_opacApi---sendMessageXML.php.html">		sendMessageXML.php
		</a><br>
			<a href="../default/_front---send_count_apn.php.html">		send_count_apn.php
		</a><br>
			<a href="../default/_ApnsPHP---send_count_apn.php.html">		send_count_apn.php
		</a><br>
			<a href="../default/_front---send_message_gcm.php.html">		send_message_gcm.php
		</a><br>
			<a href="../default/_ApnsPHP---ApnsPHP---Push---Server.php.html">		Server.php
		</a><br>
			<a href="../default/_ApnsPHP---simpleSend.php.html">		simpleSend.php
		</a><br>
			<a href="../default/_old---unregister.php.html">		unregister.php
		</a><br>
			<a href="../default/_apnApi---unregister.php.html">		unregister.php
		</a><br>
			<a href="../default/_gcmApi---unregister.php.html">		unregister.php
		</a><br>
				</div>
			<div id="interfaces">
				Interfaces:<br>
								<a href="../default/ApnsPHP_Log_Interface.html">		ApnsPHP_Log_Interface
		</a><br>
				</div>
			<div id="classes">
				Classes:<br>
								<a href="../default/ApnsPHP_Abstract.html">		ApnsPHP_Abstract
		</a><br>
			<a href="../default/ApnsPHP_Exception.html">		ApnsPHP_Exception
		</a><br>
			<a href="../default/ApnsPHP_Feedback.html">		ApnsPHP_Feedback
		</a><br>
			<a href="../default/ApnsPHP_Log_Embedded.html">		ApnsPHP_Log_Embedded
		</a><br>
			<a href="../default/ApnsPHP_Message.html">		ApnsPHP_Message
		</a><br>
			<a href="../default/ApnsPHP_Message_Custom.html">		ApnsPHP_Message_Custom
		</a><br>
			<a href="../default/ApnsPHP_Message_Exception.html">		ApnsPHP_Message_Exception
		</a><br>
			<a href="../default/ApnsPHP_Push.html">		ApnsPHP_Push
		</a><br>
			<a href="../default/ApnsPHP_Push_Exception.html">		ApnsPHP_Push_Exception
		</a><br>
			<a href="../default/ApnsPHP_Push_Server.html">		ApnsPHP_Push_Server
		</a><br>
			<a href="../default/ApnsPHP_Push_Server_Exception.html">		ApnsPHP_Push_Server_Exception
		</a><br>
			<a href="../default/CobissAPN.html">		CobissAPN
		</a><br>
			<a href="../default/DbConnect.html">		DbConnect
		</a><br>
			<a href="../default/DbFunctionsAPN.html">		DbFunctionsAPN
		</a><br>
			<a href="../default/DbFunctionsCommon.html">		DbFunctionsCommon
		</a><br>
			<a href="../default/DbFunctionsGCM.html">		DbFunctionsGCM
		</a><br>
			<a href="../default/DB_Connect.html">		DB_Connect
		</a><br>
			<a href="../default/DB_Functions.html">		DB_Functions
		</a><br>
			<a href="../default/DB_Functions_push.html">		DB_Functions_push
		</a><br>
			<a href="../default/GCMsender.html">		GCMsender
		</a><br>
				</div>
		</div>
	</div>

<div id="body">
	    		<h1>Class: ApnsPHP_Push_Server</h1>
	<p style="margin: 0px;">Source Location: /ApnsPHP/ApnsPHP/Push/Server.php</p>
	

<div class="leftcol">
	<h3><a href="#class_details">Class Overview</a> <span class="smalllinenumber">[line 34]</span></h3>
	<div id="classTree"><pre><a href="../default/ApnsPHP_Abstract.html">ApnsPHP_Abstract</a>
   |
   --<a href="../default/ApnsPHP_Push.html">ApnsPHP_Push</a>
      |
      --ApnsPHP_Push_Server</pre>
</div>
	<div class="small">
	<p>The Push Notification Server Provider.</p>
		<h4>Author(s):</h4>
	<ul>
			</ul>
	<h4>Version:</h4>
	<ul>
			</ul>

	<h4>Copyright:</h4>
	<ul>
			</li>
	</div>
</div>

<div class="middlecol">
	<h3><a href="#class_vars">Variables</a></h3>
	<ul class="small">
				<li><a href="../default/ApnsPHP_Push_Server.html#var$_aPids">$_aPids</a></li>
				<li><a href="../default/ApnsPHP_Push_Server.html#var$_hSem">$_hSem</a></li>
				<li><a href="../default/ApnsPHP_Push_Server.html#var$_hShm">$_hShm</a></li>
				<li><a href="../default/ApnsPHP_Push_Server.html#var$_nCurrentProcess">$_nCurrentProcess</a></li>
				<li><a href="../default/ApnsPHP_Push_Server.html#var$_nParentPid">$_nParentPid</a></li>
				<li><a href="../default/ApnsPHP_Push_Server.html#var$_nProcesses">$_nProcesses</a></li>
				<li><a href="../default/ApnsPHP_Push_Server.html#var$_nRunningProcesses">$_nRunningProcesses</a></li>
			</ul>
	<h3><a href="#class_consts">Constants</a></h3>
	<ul class="small">
				<li><a href="../default/ApnsPHP_Push_Server.html#constMAIN_LOOP_USLEEP">MAIN_LOOP_USLEEP</a></li>
				<li><a href="../default/ApnsPHP_Push_Server.html#constSHM_ERROR_MESSAGES_QUEUE_KEY">SHM_ERROR_MESSAGES_QUEUE_KEY</a></li>
				<li><a href="../default/ApnsPHP_Push_Server.html#constSHM_MESSAGES_QUEUE_KEY_START">SHM_MESSAGES_QUEUE_KEY_START</a></li>
				<li><a href="../default/ApnsPHP_Push_Server.html#constSHM_SIZE">SHM_SIZE</a></li>
			</ul>
</div>
<div class="rightcol">
	<h3><a href="#class_methods">Methods</a></h3>
	<ul class="small">
				<li><a href="../default/ApnsPHP_Push_Server.html#method__construct">__construct</a></li>
				<li><a href="../default/ApnsPHP_Push_Server.html#methodadd">add</a></li>
				<li><a href="../default/ApnsPHP_Push_Server.html#methodgetErrors">getErrors</a></li>
				<li><a href="../default/ApnsPHP_Push_Server.html#methodgetQueue">getQueue</a></li>
				<li><a href="../default/ApnsPHP_Push_Server.html#methodonChildExited">onChildExited</a></li>
				<li><a href="../default/ApnsPHP_Push_Server.html#methodonShutdown">onShutdown</a></li>
				<li><a href="../default/ApnsPHP_Push_Server.html#methodonSignal">onSignal</a></li>
				<li><a href="../default/ApnsPHP_Push_Server.html#methodrun">run</a></li>
				<li><a href="../default/ApnsPHP_Push_Server.html#methodsetProcesses">setProcesses</a></li>
				<li><a href="../default/ApnsPHP_Push_Server.html#methodstart">start</a></li>
				<li><a href="../default/ApnsPHP_Push_Server.html#method_getQueue">_getQueue</a></li>
				<li><a href="../default/ApnsPHP_Push_Server.html#method_mainLoop">_mainLoop</a></li>
				<li><a href="../default/ApnsPHP_Push_Server.html#method_setQueue">_setQueue</a></li>
			</ul>
</div>

<div id="content">
<hr>
	<div class="contents">
	</div>

	<div class="leftCol">
    	<h2>Inherited Variables</h2>
			<div class="indent">
		<h3>Class: <a href="../default/ApnsPHP_Push.html">ApnsPHP_Push</a></h3>
		<div class="small">
			<dl>
						<dt>
				<a href="../default/ApnsPHP_Push.html#var$_aErrorResponseMessages">ApnsPHP_Push::$_aErrorResponseMessages</a>
			</dt>
			<dd>
				 
			</dd>
						<dt>
				<a href="../default/ApnsPHP_Push.html#var$_aErrors">ApnsPHP_Push::$_aErrors</a>
			</dt>
			<dd>
				 
			</dd>
						<dt>
				<a href="../default/ApnsPHP_Push.html#var$_aMessageQueue">ApnsPHP_Push::$_aMessageQueue</a>
			</dt>
			<dd>
				 
			</dd>
						<dt>
				<a href="../default/ApnsPHP_Push.html#var$_aServiceURLs">ApnsPHP_Push::$_aServiceURLs</a>
			</dt>
			<dd>
				 
			</dd>
						<dt>
				<a href="../default/ApnsPHP_Push.html#var$_nSendRetryTimes">ApnsPHP_Push::$_nSendRetryTimes</a>
			</dt>
			<dd>
				 
			</dd>
						</dl>
		</div>
		</div>
			<div class="indent">
		<h3>Class: <a href="../default/ApnsPHP_Abstract.html">ApnsPHP_Abstract</a></h3>
		<div class="small">
			<dl>
						<dt>
				<a href="../default/ApnsPHP_Abstract.html#var$_hSocket">ApnsPHP_Abstract::$_hSocket</a>
			</dt>
			<dd>
				 
			</dd>
						<dt>
				<a href="../default/ApnsPHP_Abstract.html#var$_logger">ApnsPHP_Abstract::$_logger</a>
			</dt>
			<dd>
				 
			</dd>
						<dt>
				<a href="../default/ApnsPHP_Abstract.html#var$_nConnectRetryInterval">ApnsPHP_Abstract::$_nConnectRetryInterval</a>
			</dt>
			<dd>
				 
			</dd>
						<dt>
				<a href="../default/ApnsPHP_Abstract.html#var$_nConnectRetryTimes">ApnsPHP_Abstract::$_nConnectRetryTimes</a>
			</dt>
			<dd>
				 
			</dd>
						<dt>
				<a href="../default/ApnsPHP_Abstract.html#var$_nConnectTimeout">ApnsPHP_Abstract::$_nConnectTimeout</a>
			</dt>
			<dd>
				 
			</dd>
						<dt>
				<a href="../default/ApnsPHP_Abstract.html#var$_nEnvironment">ApnsPHP_Abstract::$_nEnvironment</a>
			</dt>
			<dd>
				 
			</dd>
						<dt>
				<a href="../default/ApnsPHP_Abstract.html#var$_nSocketSelectTimeout">ApnsPHP_Abstract::$_nSocketSelectTimeout</a>
			</dt>
			<dd>
				 
			</dd>
						<dt>
				<a href="../default/ApnsPHP_Abstract.html#var$_nWriteInterval">ApnsPHP_Abstract::$_nWriteInterval</a>
			</dt>
			<dd>
				 
			</dd>
						<dt>
				<a href="../default/ApnsPHP_Abstract.html#var$_sProviderCertificateFile">ApnsPHP_Abstract::$_sProviderCertificateFile</a>
			</dt>
			<dd>
				 
			</dd>
						<dt>
				<a href="../default/ApnsPHP_Abstract.html#var$_sProviderCertificatePassphrase">ApnsPHP_Abstract::$_sProviderCertificatePassphrase</a>
			</dt>
			<dd>
				 
			</dd>
						<dt>
				<a href="../default/ApnsPHP_Abstract.html#var$_sRootCertificationAuthorityFile">ApnsPHP_Abstract::$_sRootCertificationAuthorityFile</a>
			</dt>
			<dd>
				 
			</dd>
						</dl>
		</div>
		</div>
		<h2>Inherited Constants</h2>
			<div class="indent">
		<h3>Class: <a href="../default/ApnsPHP_Push.html">ApnsPHP_Push</a></h3>
		<div class="small">
			<dl>
						<dt>
				<a href="../default/ApnsPHP_Push.html#constCOMMAND_PUSH">ApnsPHP_Push::COMMAND_PUSH</a>
			</dt>
			<dd>
				 
			</dd>
						<dt>
				<a href="../default/ApnsPHP_Push.html#constERROR_RESPONSE_COMMAND">ApnsPHP_Push::ERROR_RESPONSE_COMMAND</a>
			</dt>
			<dd>
				 
			</dd>
						<dt>
				<a href="../default/ApnsPHP_Push.html#constERROR_RESPONSE_SIZE">ApnsPHP_Push::ERROR_RESPONSE_SIZE</a>
			</dt>
			<dd>
				 
			</dd>
						<dt>
				<a href="../default/ApnsPHP_Push.html#constSTATUS_CODE_INTERNAL_ERROR">ApnsPHP_Push::STATUS_CODE_INTERNAL_ERROR</a>
			</dt>
			<dd>
				 
			</dd>
						</dl>
		</div>
		</div>
			<div class="indent">
		<h3>Class: <a href="../default/ApnsPHP_Abstract.html">ApnsPHP_Abstract</a></h3>
		<div class="small">
			<dl>
						<dt>
				<a href="../default/ApnsPHP_Abstract.html#constCONNECT_RETRY_INTERVAL">ApnsPHP_Abstract::CONNECT_RETRY_INTERVAL</a>
			</dt>
			<dd>
				 
			</dd>
						<dt>
				<a href="../default/ApnsPHP_Abstract.html#constDEVICE_BINARY_SIZE">ApnsPHP_Abstract::DEVICE_BINARY_SIZE</a>
			</dt>
			<dd>
				 
			</dd>
						<dt>
				<a href="../default/ApnsPHP_Abstract.html#constENVIRONMENT_PRODUCTION">ApnsPHP_Abstract::ENVIRONMENT_PRODUCTION</a>
			</dt>
			<dd>
				 
			</dd>
						<dt>
				<a href="../default/ApnsPHP_Abstract.html#constENVIRONMENT_SANDBOX">ApnsPHP_Abstract::ENVIRONMENT_SANDBOX</a>
			</dt>
			<dd>
				 
			</dd>
						<dt>
				<a href="../default/ApnsPHP_Abstract.html#constSOCKET_SELECT_TIMEOUT">ApnsPHP_Abstract::SOCKET_SELECT_TIMEOUT</a>
			</dt>
			<dd>
				 
			</dd>
						<dt>
				<a href="../default/ApnsPHP_Abstract.html#constWRITE_INTERVAL">ApnsPHP_Abstract::WRITE_INTERVAL</a>
			</dt>
			<dd>
				 
			</dd>
						</dl>
		</div>
		</div>
		</div>

	<div class="rightCol">
	<h2>Inherited Methods</h2>
			<div class="indent">
		<h3>Class: <a href="../default/ApnsPHP_Push.html">ApnsPHP_Push</a></h3>
		<dl class="small">
						<dt>
				<a href="../default/ApnsPHP_Push.html#methodadd">ApnsPHP_Push::add()</a>
			</dt>
			<dd>
				Adds a message to the message queue.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Push.html#methodgetErrors">ApnsPHP_Push::getErrors()</a>
			</dt>
			<dd>
				Returns messages not delivered to the end user because one (or more) error  occurred.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Push.html#methodgetQueue">ApnsPHP_Push::getQueue()</a>
			</dt>
			<dd>
				Returns messages in the message queue.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Push.html#methodgetSendRetryTimes">ApnsPHP_Push::getSendRetryTimes()</a>
			</dt>
			<dd>
				Get the send retry time value.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Push.html#methodsend">ApnsPHP_Push::send()</a>
			</dt>
			<dd>
				Sends all messages in the message queue to Apple Push Notification Service.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Push.html#methodsetSendRetryTimes">ApnsPHP_Push::setSendRetryTimes()</a>
			</dt>
			<dd>
				Set the send retry times value.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Push.html#method_getBinaryNotification">ApnsPHP_Push::_getBinaryNotification()</a>
			</dt>
			<dd>
				Generate a binary notification from a device token and a JSON-encoded payload.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Push.html#method_parseErrorMessage">ApnsPHP_Push::_parseErrorMessage()</a>
			</dt>
			<dd>
				Parses the error message.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Push.html#method_readErrorMessage">ApnsPHP_Push::_readErrorMessage()</a>
			</dt>
			<dd>
				Reads an error message (if present) from the main stream.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Push.html#method_removeMessageFromQueue">ApnsPHP_Push::_removeMessageFromQueue()</a>
			</dt>
			<dd>
				Remove a message from the message queue.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Push.html#method_updateQueue">ApnsPHP_Push::_updateQueue()</a>
			</dt>
			<dd>
				Checks for error message and deletes messages successfully sent from message queue.
			</dd>
				</dl>
		</div>
			<div class="indent">
		<h3>Class: <a href="../default/ApnsPHP_Abstract.html">ApnsPHP_Abstract</a></h3>
		<dl class="small">
						<dt>
				<a href="../default/ApnsPHP_Abstract.html#method__construct">ApnsPHP_Abstract::__construct()</a>
			</dt>
			<dd>
				Constructor.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Abstract.html#methodconnect">ApnsPHP_Abstract::connect()</a>
			</dt>
			<dd>
				Connects to Apple Push Notification service server.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Abstract.html#methoddisconnect">ApnsPHP_Abstract::disconnect()</a>
			</dt>
			<dd>
				Disconnects from Apple Push Notifications service server.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Abstract.html#methodgetCertificateAuthority">ApnsPHP_Abstract::getCertificateAuthority()</a>
			</dt>
			<dd>
				Get the Root Certification Authority file path.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Abstract.html#methodgetConnectRetryInterval">ApnsPHP_Abstract::getConnectRetryInterval()</a>
			</dt>
			<dd>
				Get the connect retry interval.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Abstract.html#methodgetConnectRetryTimes">ApnsPHP_Abstract::getConnectRetryTimes()</a>
			</dt>
			<dd>
				Get the connect retry time value.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Abstract.html#methodgetConnectTimeout">ApnsPHP_Abstract::getConnectTimeout()</a>
			</dt>
			<dd>
				Get the connection timeout.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Abstract.html#methodgetLogger">ApnsPHP_Abstract::getLogger()</a>
			</dt>
			<dd>
				Get the Logger instance.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Abstract.html#methodgetSocketSelectTimeout">ApnsPHP_Abstract::getSocketSelectTimeout()</a>
			</dt>
			<dd>
				Get the TCP socket select timeout.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Abstract.html#methodgetWriteInterval">ApnsPHP_Abstract::getWriteInterval()</a>
			</dt>
			<dd>
				Get the write interval.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Abstract.html#methodsetConnectRetryInterval">ApnsPHP_Abstract::setConnectRetryInterval()</a>
			</dt>
			<dd>
				Set the connect retry interval.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Abstract.html#methodsetConnectRetryTimes">ApnsPHP_Abstract::setConnectRetryTimes()</a>
			</dt>
			<dd>
				Set the connect retry times value.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Abstract.html#methodsetConnectTimeout">ApnsPHP_Abstract::setConnectTimeout()</a>
			</dt>
			<dd>
				Set the connection timeout.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Abstract.html#methodsetLogger">ApnsPHP_Abstract::setLogger()</a>
			</dt>
			<dd>
				Set the Logger instance to use for logging purpose.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Abstract.html#methodsetProviderCertificatePassphrase">ApnsPHP_Abstract::setProviderCertificatePassphrase()</a>
			</dt>
			<dd>
				Set the Provider Certificate passphrase.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Abstract.html#methodsetRootCertificationAuthority">ApnsPHP_Abstract::setRootCertificationAuthority()</a>
			</dt>
			<dd>
				Set the Root Certification Authority file.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Abstract.html#methodsetSocketSelectTimeout">ApnsPHP_Abstract::setSocketSelectTimeout()</a>
			</dt>
			<dd>
				Set the TCP socket select timeout.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Abstract.html#methodsetWriteInterval">ApnsPHP_Abstract::setWriteInterval()</a>
			</dt>
			<dd>
				Set the write interval.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Abstract.html#method_connect">ApnsPHP_Abstract::_connect()</a>
			</dt>
			<dd>
				Connects to Apple Push Notification service server.
			</dd>
					<dt>
				<a href="../default/ApnsPHP_Abstract.html#method_log">ApnsPHP_Abstract::_log()</a>
			</dt>
			<dd>
				Logs a message through the Logger.
			</dd>
				</dl>
		</div>
		</div>
	<br clear="all">
	<hr>

	<a name="class_details"></a>
	<h2>Class Details</h2>
	<p align="center"><strong>The Push Notification Server Provider.
</strong></p>
<p>The class manages multiple Push Notification Providers and an inter-process message  queue. This class is useful to parallelize and speed-up send activities to Apple  Push Notification service.</p>	<p class="small" style="color: #334B66;">[ <a href="#top">Top</a> ]</p>

	<hr>
	<a name="class_vars"></a>
	<h2>Class Variables</h2>
		<a name="var$_aPids"></a>
	<p></p>
	<h4>$_aPids = <span class="value">array()</span></h4>
	<div class="indent">
		<p class="linenumber">[line 42]</p>
		<p align="center"><strong>&lt; @type integer The number of processes to start.
</strong></p>
<h4>Tags:</h4>
<ul>
	<li><b>access</b> - protected</li>
</ul>
		<p><b>Type:</b> mixed</p>
		<p><b>Overrides:</b> </p>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="var$_hSem"></a>
	<p></p>
	<h4>$_hSem</h4>
	<div class="indent">
		<p class="linenumber">[line 48]</p>
		<p align="center"><strong>&lt; @type resource Shared memory.
</strong></p>
<h4>Tags:</h4>
<ul>
	<li><b>access</b> - protected</li>
</ul>
		<p><b>Type:</b> mixed</p>
		<p><b>Overrides:</b> </p>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="var$_hShm"></a>
	<p></p>
	<h4>$_hShm</h4>
	<div class="indent">
		<p class="linenumber">[line 47]</p>
		<p align="center"><strong>&lt; @type integer The number of running processes.
</strong></p>
<h4>Tags:</h4>
<ul>
	<li><b>access</b> - protected</li>
</ul>
		<p><b>Type:</b> mixed</p>
		<p><b>Overrides:</b> </p>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="var$_nCurrentProcess"></a>
	<p></p>
	<h4>$_nCurrentProcess</h4>
	<div class="indent">
		<p class="linenumber">[line 44]</p>
		<p align="center"><strong>&lt; @type integer The parent process id.
</strong></p>
<h4>Tags:</h4>
<ul>
	<li><b>access</b> - protected</li>
</ul>
		<p><b>Type:</b> mixed</p>
		<p><b>Overrides:</b> </p>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="var$_nParentPid"></a>
	<p></p>
	<h4>$_nParentPid</h4>
	<div class="indent">
		<p class="linenumber">[line 43]</p>
		<p align="center"><strong>&lt; @type array Array of process PIDs.
</strong></p>
<h4>Tags:</h4>
<ul>
	<li><b>access</b> - protected</li>
</ul>
		<p><b>Type:</b> mixed</p>
		<p><b>Overrides:</b> </p>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="var$_nProcesses"></a>
	<p></p>
	<h4>$_nProcesses = <span class="value">&nbsp;3</span></h4>
	<div class="indent">
		<p class="linenumber">[line 41]</p>
		<p align="center"><strong>&lt; @type integer Message queue identifier for not delivered messages.
</strong></p>
<h4>Tags:</h4>
<ul>
	<li><b>access</b> - protected</li>
</ul>
		<p><b>Type:</b> mixed</p>
		<p><b>Overrides:</b> </p>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="var$_nRunningProcesses"></a>
	<p></p>
	<h4>$_nRunningProcesses</h4>
	<div class="indent">
		<p class="linenumber">[line 45]</p>
		<p align="center"><strong>&lt; @type integer Cardinal process number (0, 1, 2, ...).
</strong></p>
<h4>Tags:</h4>
<ul>
	<li><b>access</b> - protected</li>
</ul>
		<p><b>Type:</b> mixed</p>
		<p><b>Overrides:</b> </p>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>

	<hr>
	<a name="class_methods"></a>
	<h2>Class Methods</h2>
	
	<a name="method__construct"></a>
	<p></p>
	<h3>__construct</h3>
	<div class="indent">
		<p>
		<code>ApnsPHP_Push_Server __construct(
$nEnvironment
$nEnvironment, $sProviderCertificateFile
$sProviderCertificateFile)</code>
		</p>
	
		<p class="linenumber">[line 59]</p>
		<p align="center"><strong>Constructor.
</strong></p>
<h4>Tags:</h4>
<ul>
	<li><b>throws</b> - ApnsPHP_Push_Server_Exception if is unable to          get Shared Memory Segment or Semaphore ID.</li>
	<li><b>access</b> - public</li>
</ul>
		
<p>Overrides <a href="../default/ApnsPHP_Abstract.html#method__construct">ApnsPHP_Abstract::__construct()</a> (Constructor.)</p>	
	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">$nEnvironment</span>
		<b>$nEnvironment</b> 
		- 
		@type integer Environment.</li>
			<li>
		<span class="type">$sProviderCertificateFile</span>
		<b>$sProviderCertificateFile</b> 
		- 
		@type string Provider certificate file          with key (Bundled PEM).</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodadd"></a>
	<p></p>
	<h3>add</h3>
	<div class="indent">
		<p>
		<code>void add(
<a href="../default/ApnsPHP_Message.html">ApnsPHP_Message</a>
$message)</code>
		</p>
	
		<p class="linenumber">[line 209]</p>
		<p align="center"><strong>Adds a message to the inter-process message queue.
</strong></p>
<p>Messages are added to the queues in a round-robin fashion starting from the  first process to the last.</p><h4>Tags:</h4>
<ul>
	<li><b>access</b> - public</li>
</ul>
		
<p>Overrides <a href="../default/ApnsPHP_Push.html#methodadd">ApnsPHP_Push::add()</a> (Adds a message to the message queue.)</p>	
	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">$message</span>
		<b>$message</b> 
		- 
		@type ApnsPHP_Message The message.</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodgetErrors"></a>
	<p></p>
	<h3>getErrors</h3>
	<div class="indent">
		<p>
		<code>@type getErrors(
[$bEmpty
$bEmpty = true])</code>
		</p>
	
		<p class="linenumber">[line 255]</p>
		<p align="center"><strong>Returns messages not delivered to the end user because one (or more) error  occurred.
</strong></p>
<h4>Tags:</h4>
<ul>
	<li><b>return</b> - array Array of messages not delivered because one or more errors          occurred.</li>
	<li><b>access</b> - public</li>
</ul>
		
<p>Overrides <a href="../default/ApnsPHP_Push.html#methodgetErrors">ApnsPHP_Push::getErrors()</a> (Returns messages not delivered to the end user because one (or more) error  occurred.)</p>	
	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">$bEmpty</span>
		<b>$bEmpty</b> 
		- 
		@type boolean @optional Empty message container.</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodgetQueue"></a>
	<p></p>
	<h3>getQueue</h3>
	<div class="indent">
		<p>
		<code>@type getQueue(
[$bEmpty
$bEmpty = true])</code>
		</p>
	
		<p class="linenumber">[line 233]</p>
		<p align="center"><strong>Returns messages in the message queue.
</strong></p>
<p>When a message is successful sent or reached the maximum retry time is removed  from the message queue and inserted in the Errors container. Use the getErrors()  method to retrive messages with delivery error(s).</p><h4>Tags:</h4>
<ul>
	<li><b>return</b> - array Array of messages left on the queue.</li>
	<li><b>access</b> - public</li>
</ul>
		
<p>Overrides <a href="../default/ApnsPHP_Push.html#methodgetQueue">ApnsPHP_Push::getQueue()</a> (Returns messages in the message queue.)</p>	
	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">$bEmpty</span>
		<b>$bEmpty</b> 
		- 
		@type boolean @optional Empty message queue.</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodonChildExited"></a>
	<p></p>
	<h3>onChildExited</h3>
	<div class="indent">
		<p>
		<code>void onChildExited(
)</code>
		</p>
	
		<p class="linenumber">[line 109]</p>
		<p align="center"><strong>Waits until a forked process has exited and decreases the current running  process number.
</strong></p>
<h4>Tags:</h4>
<ul>
	<li><b>access</b> - public</li>
</ul>
		
	
	<h4>Parameters:</h4>
	<ul>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodonShutdown"></a>
	<p></p>
	<h3>onShutdown</h3>
	<div class="indent">
		<p>
		<code>void onShutdown(
)</code>
		</p>
	
		<p class="linenumber">[line 146]</p>
		<p align="center"><strong>When the parent process exits, cleans shared memory and semaphore.
</strong></p>
<p>This is called using 'register_shutdown_function' pattern.</p><h4>Tags:</h4>
<ul>
	<li><b>see</b> - <a href="http://php.net/register_shutdown_function">http://php.net/register_shutdown_function</a></li>
	<li><b>access</b> - public</li>
</ul>
		
	
	<h4>Parameters:</h4>
	<ul>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodonSignal"></a>
	<p></p>
	<h3>onSignal</h3>
	<div class="indent">
		<p>
		<code>void onSignal(
$nSignal
$nSignal)</code>
		</p>
	
		<p class="linenumber">[line 122]</p>
		<p align="center"><strong>When a child (not the parent) receive a signal of type TERM, QUIT or INT  exits from the current process and decreases the current running process number.
</strong></p>
<h4>Tags:</h4>
<ul>
	<li><b>access</b> - public</li>
</ul>
		
	
	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">$nSignal</span>
		<b>$nSignal</b> 
		- 
		@type integer Signal number.</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodrun"></a>
	<p></p>
	<h3>run</h3>
	<div class="indent">
		<p>
		<code>@type run(
)</code>
		</p>
	
		<p class="linenumber">[line 99]</p>
		<p align="center"><strong>Checks if the server is running and calls signal handlers for pending signals.
</strong></p>
<p>Example:</p><h4>Tags:</h4>
<ul>
	<li><b>return</b> - boolean True if the server is running.</li>
	<li><b>access</b> - public</li>
</ul>
		
	
	<h4>Parameters:</h4>
	<ul>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodsetProcesses"></a>
	<p></p>
	<h3>setProcesses</h3>
	<div class="indent">
		<p>
		<code>void setProcesses(
$nProcesses
$nProcesses)</code>
		</p>
	
		<p class="linenumber">[line 160]</p>
		<p align="center"><strong>Set the total processes to start, default is 3.
</strong></p>
<h4>Tags:</h4>
<ul>
	<li><b>access</b> - public</li>
</ul>
		
	
	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">$nProcesses</span>
		<b>$nProcesses</b> 
		- 
		@type integer Processes to start up.</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodstart"></a>
	<p></p>
	<h3>start</h3>
	<div class="indent">
		<p>
		<code>void start(
)</code>
		</p>
	
		<p class="linenumber">[line 175]</p>
		<p align="center"><strong>Starts the server forking all processes and return immediately.
</strong></p>
<p>Every forked process is connected to Apple Push Notification Service on start  and enter on the main loop.</p><h4>Tags:</h4>
<ul>
	<li><b>access</b> - public</li>
</ul>
		
	
	<h4>Parameters:</h4>
	<ul>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="method_getQueue"></a>
	<p></p>
	<h3>_getQueue</h3>
	<div class="indent">
		<p>
		<code>@type _getQueue(
$nQueueKey
$nQueueKey, [$nProcess
$nProcess = 0])</code>
		</p>
	
		<p class="linenumber">[line 313]</p>
		<p align="center"><strong>Returns the queue from the shared memory.
</strong></p>
<h4>Tags:</h4>
<ul>
	<li><b>return</b> - array Array of messages from the queue.</li>
	<li><b>access</b> - protected</li>
</ul>
		
	
	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">$nQueueKey</span>
		<b>$nQueueKey</b> 
		- 
		@type integer The key of the queue stored in the shared          memory.</li>
			<li>
		<span class="type">$nProcess</span>
		<b>$nProcess</b> 
		- 
		@type integer @optional The process cardinal number.</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="method_mainLoop"></a>
	<p></p>
	<h3>_mainLoop</h3>
	<div class="indent">
		<p>
		<code>void _mainLoop(
)</code>
		</p>
	
		<p class="linenumber">[line 273]</p>
		<p align="center"><strong>The process main loop.
</strong></p>
<p>During the main loop: the per-process error queue is read and the common error message  container is populated; the per-process message queue is spooled (message from  this queue is added to ApnsPHP_Push queue and delivered).</p><h4>Tags:</h4>
<ul>
	<li><b>access</b> - protected</li>
</ul>
		
	
	<h4>Parameters:</h4>
	<ul>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="method_setQueue"></a>
	<p></p>
	<h3>_setQueue</h3>
	<div class="indent">
		<p>
		<code>@type _setQueue(
$nQueueKey
$nQueueKey, [$nProcess
$nProcess = 0], [$aQueue
$aQueue = array()])</code>
		</p>
	
		<p class="linenumber">[line 331]</p>
		<p align="center"><strong>Store the queue into the shared memory.
</strong></p>
<h4>Tags:</h4>
<ul>
	<li><b>return</b> - boolean True on success, false otherwise.</li>
	<li><b>access</b> - protected</li>
</ul>
		
	
	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">$nQueueKey</span>
		<b>$nQueueKey</b> 
		- 
		@type integer The key of the queue to store in the shared          memory.</li>
			<li>
		<span class="type">$nProcess</span>
		<b>$nProcess</b> 
		- 
		@type integer @optional The process cardinal number.</li>
			<li>
		<span class="type">$aQueue</span>
		<b>$aQueue</b> 
		- 
		@type array @optional The queue to store into shared memory.          The default value is an empty array, useful to empty the queue.</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>

	<hr>
	<a name="class_consts"></a>
	<h2>Class Constants</h2>
		<a name="constMAIN_LOOP_USLEEP"></a>
	<p></p>
	<h4>MAIN_LOOP_USLEEP = <span class="value">&nbsp;200000</span></h4>
	<div class="indent">
		<p class="linenumber">[line 36]</p>
			</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="constSHM_ERROR_MESSAGES_QUEUE_KEY"></a>
	<p></p>
	<h4>SHM_ERROR_MESSAGES_QUEUE_KEY = <span class="value">&nbsp;999</span></h4>
	<div class="indent">
		<p class="linenumber">[line 39]</p>
		<p align="center"><strong>&lt; @type integer Message queue start identifier for messages. For every process 1 is added to this number.
</strong></p>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="constSHM_MESSAGES_QUEUE_KEY_START"></a>
	<p></p>
	<h4>SHM_MESSAGES_QUEUE_KEY_START = <span class="value">&nbsp;1000</span></h4>
	<div class="indent">
		<p class="linenumber">[line 38]</p>
		<p align="center"><strong>&lt; @type integer Shared memory size in bytes useful to store message queues.
</strong></p>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="constSHM_SIZE"></a>
	<p></p>
	<h4>SHM_SIZE = <span class="value">&nbsp;524288</span></h4>
	<div class="indent">
		<p class="linenumber">[line 37]</p>
		<p align="center"><strong>&lt; @type integer Main loop sleep time in micro seconds.
</strong></p>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
</div>
	<div id="credit">
		<hr>
		Documentation generated on Wed, 04 Sep 2013 18:58:38 +0200 by <a href="http://www.phpdoc.org">phpDocumentor 1.4.4</a>
	</div>
</div>
</body>
</html>